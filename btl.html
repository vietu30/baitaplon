<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Trang chủ - Website Bán Ô Tô</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
      }
      header {
        background-color: #333;
        color: white;
        text-align: center;
        padding: 15px 0;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }
      .logo {
        margin-left: 20px;
      }
      nav ul {
        list-style-type: none;
        padding: 0;
        margin: 0;
      }
      nav ul li {
        display: inline;
        margin: 0 15px;
      }
      nav ul li a {
        color: white;
        text-decoration: none;
        font-weight: bold;
      }

      /* Banner chiếm 50% chiều cao của trang */
      .banner {
        width: 100%;
        height: 50vh;
        position: relative;
        overflow: hidden;
      }
      .banner-slider {
        display: flex;
        height: 100%;
        transition: transform 0.5s ease-in-out;
      }
      /* Mỗi ảnh chiếm 33.33% chiều rộng của khung hình */
      .banner-slider img {
        /* width: 487px; */
        width: 33.6%;
        height: 100%;
        object-fit: cover;
        flex-shrink: 0;
      }

      /* Lớp phủ che toàn bộ phần banner */
      .banner-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0); /* Trong suốt để không che ảnh */
        cursor: grab;
      }

      .featured-section,
      .best-selling,
      .customer-support {
        padding: 20px;
        text-align: center;
      }
      .featured-section h2,
      .best-selling h2,
      .customer-support h2 {
        margin-bottom: 20px;
      }
      .car-item {
        display: inline-block;
        width: 30%;
        margin: 10px;
      }
      .car-item img {
        width: 100%;
        height: auto;
      }
      .customer-support p {
        font-size: 18px;
      }
      footer {
        background-color: #333;
        color: white;
        text-align: center;
        padding: 10px 0;
      }
    </style>
  </head>
  <body>
    <!-- Menu -->
    <header>
      <div class="logo">
        <img src="logo.png" alt="Logo" width="100" />
        <!-- Thay đổi logo.png thành tên file logo của bạn -->
      </div>
      <nav>
        <ul>
          <li><a href="#">Trang chủ</a></li>
          <li><a href="#">Xe đã qua sử dụng</a></li>
          <li><a href="#">Xe mới</a></li>
          <li><a href="#">Khuyến mãi</a></li>
          <li><a href="#">Về chúng tôi</a></li>
        </ul>
      </nav>
    </header>

    <!-- Banner chuyển động chiếm 50% chiều cao -->
    <section class="banner">
      <div class="banner-slider" id="slider">
        <img src="img/AZ-1_LB40_240110_0-1024x683.jpg" alt="Mẫu xe 1" />
        <img src="img/Countach_240110_0-1024x683.jpg" alt="Mẫu xe 2" />
        <img src="img/ER34_silhouette-1024x683.jpg" alt="Mẫu xe 3" />
        <img
          src="img/LB-Silhouette-WORKS-MURCIELAGO-GT-Evo00015-1-1024x683.jpg"
          alt="Mẫu xe 4"
        />
        <img
          src="img/LB-WORKS-AVENTADOR-Limited-Edition-Complete-Body-kit00009-1024x683.jpg"
          alt="Mẫu xe 5"
        />
        <img src="img/LB-WORKS-Lamborghini-GALLARDO-17-1-1.jpg" alt="Mẫu xe 6" />
        <img
          src="img/LB-WORKS-Lamborghini-HURACAN00004-1024x683.jpg"
          alt="Mẫu xe 7"
        />
        <img src="img/NewLevelSequence.0328.jpg" alt="Mẫu xe 8" />
        <img
          src="img/LB-TRUCKS-UD-QUON-Body-Kit00001-1024x683.jpg"
          alt="Mẫu xe 9"
        />
      </div>
      <!-- Lớp phủ giúp xử lý tương tác chuột toàn bộ -->
      <div class="banner-overlay" id="bannerOverlay"></div>
    </section>

    <!-- Xe nổi bật -->
    <section class="featured-section">
      <h2>Xe nổi bật</h2>
      <div class="car-list">
        <div class="car-item">
          <img src="featured1.jpg" alt="Xe nổi bật 1" />
          <p>Tên xe nổi bật 1</p>
        </div>
        <div class="car-item">
          <img src="featured2.jpg" alt="Xe nổi bật 2" />
          <p>Tên xe nổi bật 2</p>
        </div>
      </div>
    </section>

    <!-- Xe bán chạy -->
    <section class="best-selling">
      <h2>Xe bán chạy</h2>
      <div class="car-list">
        <div class="car-item">
          <img src="bestseller1.jpg" alt="Xe bán chạy 1" />
          <p>Tên xe bán chạy 1</p>
        </div>
        <div class="car-item">
          <img src="bestseller2.jpg" alt="Xe bán chạy 2" />
          <p>Tên xe bán chạy 2</p>
        </div>
      </div>
    </section>

    <!-- Hỗ trợ khách hàng -->
    <section class="customer-support">
      <h2>Hỗ trợ khách hàng</h2>
      <p>Liên hệ: 0123456789</p>
      <p>Email: support@company.com</p>
    </section>

    <!-- Chân trang -->
    <footer>
      <p>Liên hệ: 0123456789 | Email: info@company.com</p>
    </footer>

    <script>
      let currentSlide = 0;
      const slides = document.querySelectorAll(".banner-slider img");
      const totalSlides = slides.length;
      const slider = document.getElementById("slider");
      const overlay = document.getElementById("bannerOverlay");

      let isDragging = false;
      let startPos = 0;
      let currentTranslate = 0;
      let prevTranslate = 0;
      let animationID;
      let autoSlideTimeout;
      let lastInteractionTime = new Date().getTime();

      function setSliderPosition() {
        slider.style.transform = `translateX(${currentTranslate}px)`;
      }

      function touchStart(event) {
        isDragging = true;
        startPos = event.pageX;
        animationID = requestAnimationFrame(animation);
        overlay.style.cursor = "grabbing";
        resetAutoSlide(); // Reset auto slide khi bắt đầu kéo
      }

      function touchEnd() {
        isDragging = false;
        cancelAnimationFrame(animationID);
        overlay.style.cursor = "grab";

        const movedBy = currentTranslate - prevTranslate;
        if (movedBy < -100 && currentSlide < totalSlides - 3) {
          currentSlide += 1;
        } else if (movedBy > 100 && currentSlide > 0) {
          currentSlide -= 1;
        }

        setPositionByIndex();
        resetAutoSlide(); // Reset auto slide sau khi kéo
      }

      function touchMove(event) {
        if (isDragging) {
          const currentPosition = event.pageX;
          currentTranslate = prevTranslate + currentPosition - startPos;
        }
      }

      function animation() {
        setSliderPosition();
        if (isDragging) requestAnimationFrame(animation);
      }

      function setPositionByIndex() {
        currentTranslate = currentSlide * -33.33 * window.innerWidth / 100;
        prevTranslate = currentTranslate;
        setSliderPosition();
      }

      function startAutoSlide() {
        autoSlideTimeout = setTimeout(() => {
          if (currentSlide < totalSlides - 3) {
            currentSlide += 1;
          } else {
            currentSlide = 0; // Quay về slide đầu tiên khi hết
          }
          setPositionByIndex();
          startAutoSlide(); // Tiếp tục chu kỳ tự động
        }, 5000);
      }

      function resetAutoSlide() {
        clearTimeout(autoSlideTimeout);
        lastInteractionTime = new Date().getTime(); // Cập nhật thời gian tương tác cuối cùng

        const timeSinceLastInteraction = new Date().getTime() - lastInteractionTime;
        if (timeSinceLastInteraction >= 5000) {
          startAutoSlide(); // Nếu đã 5 giây không tương tác, bắt đầu auto slide
        } else {
          startAutoSlide(); // Khởi động lại slide sau 5 giây kể từ lần tương tác cuối
        }
      }

      // Bắt đầu tự động chuyển slide khi load trang
      startAutoSlide();

      overlay.addEventListener("mousedown", touchStart);
      overlay.addEventListener("mousemove", touchMove);
      overlay.addEventListener("mouseup", touchEnd);
      overlay.addEventListener("mouseleave", touchEnd);
    </script>

  </body>
</html>
